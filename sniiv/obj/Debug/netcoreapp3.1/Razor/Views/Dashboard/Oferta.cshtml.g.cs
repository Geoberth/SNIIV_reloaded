#pragma checksum "D:\Resplado sedatu\Azure5\sniiv\Views\Dashboard\Oferta.cshtml" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "031dfc8a4a512ad412e35fd5dd6ab2d72d6729ef"
// <auto-generated/>
#pragma warning disable 1591
[assembly: global::Microsoft.AspNetCore.Razor.Hosting.RazorCompiledItemAttribute(typeof(AspNetCore.Views_Dashboard_Oferta), @"mvc.1.0.view", @"/Views/Dashboard/Oferta.cshtml")]
namespace AspNetCore
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Mvc;
    using Microsoft.AspNetCore.Mvc.Rendering;
    using Microsoft.AspNetCore.Mvc.ViewFeatures;
#nullable restore
#line 1 "D:\Resplado sedatu\Azure5\sniiv\Views\_ViewImports.cshtml"
using sniiv;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "D:\Resplado sedatu\Azure5\sniiv\Views\_ViewImports.cshtml"
using sniiv.Models;

#line default
#line hidden
#nullable disable
#nullable restore
#line 3 "D:\Resplado sedatu\Azure5\sniiv\Views\_ViewImports.cshtml"
using Microsoft.AspNetCore.Identity;

#line default
#line hidden
#nullable disable
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"031dfc8a4a512ad412e35fd5dd6ab2d72d6729ef", @"/Views/Dashboard/Oferta.cshtml")]
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"ec35af421ca7f3dc8a2f18a41a548d91d9184c1b", @"/Views/_ViewImports.cshtml")]
    public class Views_Dashboard_Oferta : global::Microsoft.AspNetCore.Mvc.Razor.RazorPage<dynamic>
    {
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_0 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("src", new global::Microsoft.AspNetCore.Html.HtmlString("~/js/util.js"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_1 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("type", new global::Microsoft.AspNetCore.Html.HtmlString("text/javascript"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_2 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("href", new global::Microsoft.AspNetCore.Html.HtmlString("~/css/dc/dc.css"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_3 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("rel", new global::Microsoft.AspNetCore.Html.HtmlString("stylesheet"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_4 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("type", new global::Microsoft.AspNetCore.Html.HtmlString("text/css"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_5 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("href", new global::Microsoft.AspNetCore.Html.HtmlString("~/css/dashboard.css"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_6 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("src", new global::Microsoft.AspNetCore.Html.HtmlString("~/js/dc/d3.js"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_7 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("src", new global::Microsoft.AspNetCore.Html.HtmlString("~/js/dc/d3.tip.js"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_8 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("src", new global::Microsoft.AspNetCore.Html.HtmlString("~/js/dc/crossfilter.js"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_9 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("src", new global::Microsoft.AspNetCore.Html.HtmlString("~/js/dc/dc.min.js"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_10 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("src", new global::Microsoft.AspNetCore.Html.HtmlString("~/js/colorbrewer.js"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        #line hidden
        #pragma warning disable 0649
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperExecutionContext __tagHelperExecutionContext;
        #pragma warning restore 0649
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner __tagHelperRunner = new global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner();
        #pragma warning disable 0169
        private string __tagHelperStringValueBuffer;
        #pragma warning restore 0169
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager __backed__tagHelperScopeManager = null;
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager __tagHelperScopeManager
        {
            get
            {
                if (__backed__tagHelperScopeManager == null)
                {
                    __backed__tagHelperScopeManager = new global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager(StartTagHelperWritingScope, EndTagHelperWritingScope);
                }
                return __backed__tagHelperScopeManager;
            }
        }
        private global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.UrlResolutionTagHelper __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper;
        #pragma warning disable 1998
        public async override global::System.Threading.Tasks.Task ExecuteAsync()
        {
#nullable restore
#line 1 "D:\Resplado sedatu\Azure5\sniiv\Views\Dashboard\Oferta.cshtml"
  
    ViewData["Title"] = "Demanda";
    List<SelectListItem> aniosRegistro = (List<SelectListItem>)ViewBag.aniosRegistro;
    string fechaRegistro = ViewBag.fechaRegistro;

    List<SelectListItem> aniosInventario = (List<SelectListItem>)ViewBag.aniosInventario;
    List<SelectListItem> mesesInventario = (List<SelectListItem>)ViewBag.mesesInventario;
    string fechaInventario = ViewBag.fechaInventario;

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n");
            DefineSection("Scripts", async() => {
                WriteLiteral("\r\n    ");
                __tagHelperExecutionContext = __tagHelperScopeManager.Begin("script", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagAndEndTag, "031dfc8a4a512ad412e35fd5dd6ab2d72d6729ef7764", async() => {
                }
                );
                __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.UrlResolutionTagHelper>();
                __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper);
                __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_0);
                __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_1);
                await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
                if (!__tagHelperExecutionContext.Output.IsContentModified)
                {
                    await __tagHelperExecutionContext.SetOutputContentAsync();
                }
                Write(__tagHelperExecutionContext.Output);
                __tagHelperExecutionContext = __tagHelperScopeManager.End();
                WriteLiteral("\r\n    <!-- DC -->\r\n    ");
                __tagHelperExecutionContext = __tagHelperScopeManager.Begin("link", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.SelfClosing, "031dfc8a4a512ad412e35fd5dd6ab2d72d6729ef8969", async() => {
                }
                );
                __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.UrlResolutionTagHelper>();
                __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper);
                __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_2);
                __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_3);
                __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_4);
                await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
                if (!__tagHelperExecutionContext.Output.IsContentModified)
                {
                    await __tagHelperExecutionContext.SetOutputContentAsync();
                }
                Write(__tagHelperExecutionContext.Output);
                __tagHelperExecutionContext = __tagHelperScopeManager.End();
                WriteLiteral("\r\n    ");
                __tagHelperExecutionContext = __tagHelperScopeManager.Begin("link", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.SelfClosing, "031dfc8a4a512ad412e35fd5dd6ab2d72d6729ef10234", async() => {
                }
                );
                __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.UrlResolutionTagHelper>();
                __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper);
                __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_5);
                __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_3);
                __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_4);
                await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
                if (!__tagHelperExecutionContext.Output.IsContentModified)
                {
                    await __tagHelperExecutionContext.SetOutputContentAsync();
                }
                Write(__tagHelperExecutionContext.Output);
                __tagHelperExecutionContext = __tagHelperScopeManager.End();
                WriteLiteral("\r\n    ");
                __tagHelperExecutionContext = __tagHelperScopeManager.Begin("script", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagAndEndTag, "031dfc8a4a512ad412e35fd5dd6ab2d72d6729ef11500", async() => {
                }
                );
                __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.UrlResolutionTagHelper>();
                __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper);
                __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_6);
                __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_1);
                await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
                if (!__tagHelperExecutionContext.Output.IsContentModified)
                {
                    await __tagHelperExecutionContext.SetOutputContentAsync();
                }
                Write(__tagHelperExecutionContext.Output);
                __tagHelperExecutionContext = __tagHelperScopeManager.End();
                WriteLiteral("\r\n    ");
                __tagHelperExecutionContext = __tagHelperScopeManager.Begin("script", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagAndEndTag, "031dfc8a4a512ad412e35fd5dd6ab2d72d6729ef12687", async() => {
                }
                );
                __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.UrlResolutionTagHelper>();
                __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper);
                __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_7);
                __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_1);
                await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
                if (!__tagHelperExecutionContext.Output.IsContentModified)
                {
                    await __tagHelperExecutionContext.SetOutputContentAsync();
                }
                Write(__tagHelperExecutionContext.Output);
                __tagHelperExecutionContext = __tagHelperScopeManager.End();
                WriteLiteral("\r\n    ");
                __tagHelperExecutionContext = __tagHelperScopeManager.Begin("script", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagAndEndTag, "031dfc8a4a512ad412e35fd5dd6ab2d72d6729ef13874", async() => {
                }
                );
                __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.UrlResolutionTagHelper>();
                __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper);
                __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_8);
                __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_1);
                await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
                if (!__tagHelperExecutionContext.Output.IsContentModified)
                {
                    await __tagHelperExecutionContext.SetOutputContentAsync();
                }
                Write(__tagHelperExecutionContext.Output);
                __tagHelperExecutionContext = __tagHelperScopeManager.End();
                WriteLiteral("\r\n    ");
                __tagHelperExecutionContext = __tagHelperScopeManager.Begin("script", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagAndEndTag, "031dfc8a4a512ad412e35fd5dd6ab2d72d6729ef15061", async() => {
                }
                );
                __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.UrlResolutionTagHelper>();
                __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper);
                __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_9);
                __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_1);
                await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
                if (!__tagHelperExecutionContext.Output.IsContentModified)
                {
                    await __tagHelperExecutionContext.SetOutputContentAsync();
                }
                Write(__tagHelperExecutionContext.Output);
                __tagHelperExecutionContext = __tagHelperScopeManager.End();
                WriteLiteral("\r\n    ");
                __tagHelperExecutionContext = __tagHelperScopeManager.Begin("script", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagAndEndTag, "031dfc8a4a512ad412e35fd5dd6ab2d72d6729ef16248", async() => {
                }
                );
                __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.UrlResolutionTagHelper>();
                __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper);
                __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_10);
                __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_1);
                await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
                if (!__tagHelperExecutionContext.Output.IsContentModified)
                {
                    await __tagHelperExecutionContext.SetOutputContentAsync();
                }
                Write(__tagHelperExecutionContext.Output);
                __tagHelperExecutionContext = __tagHelperScopeManager.End();
                WriteLiteral(@"
    <script type=""text/javascript"">
        var countR, countI;
        var mapEstado,
            numberDisplayTotal,
            barChartsegmento,
            pieCharttipo_vivienda,
            rowChartsegmento_uma,
            pieChartPCU;
        var anio_inicio, anio_fin;

        var mapEstadoInv,
            numberDisplayTotalInv,
            barChartsegmentoInv,
            pieCharttipo_viviendaInv,
            rowChartsegmento_umaInv,
            pieChartPCUInv;
        var unidadesChart = ""viviendas"";
        $(function () {
            //activaTab('oferta');

            countR = 0;
            countI = 0;

            $(""#btn_aceptar"").click(function () {
                initializeDashBoard();
            });

            $('#tabR a').click(function (e) {
                e.preventDefault();
                if (countR < 1)
                    initializeDashBoard();
                countR++;
            });
            $('#tabI a').click(function (e) {
           ");
                WriteLiteral(@"     e.preventDefault();
                if (countI < 1)
                    initializeDashBoardI();
                countI++;
            });

            $('#ddl_inicio_inventario').change(async function () {
                anio_inicio = $('[id$=ddl_inicio_inventario]').val();
                mes = await mostrarMes();
                initializeDashBoardI(anio_inicio, mes);
            });

            $('#ddl_fin_inventario').change(function () {
                mes = $('#ddl_fin_inventario').val();
                initializeDashBoardI(anio_inicio, mes);
            });

            $('.tab-active').addClass('active');
            $('#tabI a').click();
        });

        //#region Registro

        function initializeDashBoard() {
            anio_inicio = $('[id$=ddl_inicio]').val();
            anio_fin = $('[id$=ddl_fin]').val();
            var aux;
            if (anio_inicio > anio_fin) {
                aux = anio_inicio;
                anio_inicio = anio_fin;
      ");
                WriteLiteral(@"          anio_fin = aux;
            }

            mapEstado = dc.geoChoroplethChart('#mapEstado', 'registro');
            numberDisplayTotal = dc.numberDisplay('#numberDisplayTotal', 'registro');
            barChartsegmento = dc.barChart('#barChartsegmento', 'registro');
            pieCharttipo_vivienda = dc.pieChart('#pieCharttipo_vivienda', 'registro');
            rowChartsegmento_uma = dc.rowChart('#rowChartsegmento_uma', 'registro');
            pieChartPCU = dc.pieChart('#pieChartPCU', 'registro');

            d3.json(path + 'DashboardAPI/GetKPIsRegistro2/' + anio_inicio + '/' + anio_fin, function (error, counts) {
                var ndx = crossfilter(counts),
                    estado = ndx.dimension(function (d) { return d.estado; }),
                    groupEstado = estado.group().reduceSum(function (d) { return + d.viviendas; }),
                    total = ndx.groupAll().reduceSum(function (d) { return + d.viviendas; }),
                    pcu = ndx.dimension(function (d) ");
                WriteLiteral(@"{ return d.pcu; }),
                    groupPCU = pcu.group().reduceSum(function (d) { return + d.viviendas; })
                segmento = ndx.dimension(function (d) { return d.segmento; }),
                    groupSegmento = segmento.group().reduceSum(function (d) { return + d.viviendas; }),
                    tipo_vivienda = ndx.dimension(function (d) { return d.tipo_vivienda; }),
                    groupTipoVivienda = tipo_vivienda.group().reduceSum(function (d) { return + d.viviendas; }),
                    segmento_uma = ndx.dimension(function (d) { return d.segmento_uma; }),
                    groupSegmentoUMA = segmento_uma.group().reduceSum(function (d) { return + d.viviendas; });

                d3.json('../js/maps/mx.json', function (jsonData) {
                    var projection = d3.geo.mercator()
                        .center(center_map)
                        .translate([width_map / 1.7, height_map / 1.7])
                        .scale([width_map / .6]);
                ");
                WriteLiteral(@"    var colorSchemeSelect = color_map;
                    var colorScheme = colorbrewer[colorSchemeSelect];
                    var quantiles = quantiles_map;
                    var estados = groupEstado.all();
                    var min = Math.min.apply(null, estados.map(x => x.value));
                    var max = Math.max.apply(null, estados.map(x => x.value));
                    mapEstado
                        .width(width_map)
                        .height(height_map)
                        .dimension(estado)
                        .group(groupEstado)
                        .projection(projection)
                        .overlayGeoJson(jsonData.features, 'name', function (d) {
                            return d.properties.name;
                        })
                        .colors(d3.scale.quantile().range(colorScheme[quantiles]))
                        .colorDomain([min, max])
                        .colorCalculator(function (d) {
                            retur");
                WriteLiteral(@"n d ? mapEstado.colors()(d) : '#ccc';
                        })
                        .title(function (d) {
                            return d.key + "": "" + d3.format(',.0f')(d.value) + ("" "" + unidadesChart);
                        });

                    numberDisplayTotal
                        .group(total)
                        .formatNumber(d3.format(',.0f'))
                        .valueAccessor(function (d) { return d; });

                    function calc_domain(chart) {
                        var min = d3.min(chart.group().all(), function (kv) { return kv.key; }),
                            max = d3.max(chart.group().all(), function (kv) { return kv.key; });
                        max = d3.time.month.offset(max, 1);
                        chart.x().domain([min, max]);
                    }

                    barChartsegmento
                        .yAxisLabel(("" "" + unidadesChart))
                        .height(250)
                        .dimension(segmento)");
                WriteLiteral(@"
                        .group(groupSegmento)
                        .x(d3.scale.ordinal())
                        .xUnits(dc.units.ordinal)
                        .elasticY(true)
                        .renderHorizontalGridLines(true)
                        .barPadding(0.1)
                        .margins({ top: 20, left: 50, right: 0, bottom: 80 })
                        .brushOn(false)
                        .clipPadding(20)
                        .title(function (d) { return ''; })
                        .renderLabel(true)
                        .label(function (d) {
                            return d3.format(',.0f')(d.y);
                        });
                    barChartsegmento.yAxis().tickFormat(d3.format('s'));

                    pieCharttipo_vivienda
                        .height(200)
                        .dimension(tipo_vivienda)
                        .group(groupTipoVivienda)
                        .innerRadius(50)
                        .legend");
                WriteLiteral(@"(dc.legend().y(5))
                        .title(function (d) { return ''; });

                    rowChartsegmento_uma
                        .dimension(segmento_uma)
                        .group(groupSegmentoUMA)
                        .elasticX(true)
                        .margins({ top: 5, left: 5, right: 10, bottom: 40 })
                        /*.label(function (d) {
                            return d.key + "": "" + d3.format(',.0f')(d.value);
                        })*/
                        .title(function (d) { return ''; });
                    rowChartsegmento_uma.xAxis().tickFormat(d3.format('s'));

                    pieChartPCU
                        .height(200)
                        .dimension(pcu)
                        .group(groupPCU)
                        .legend(dc.legend().y(5))
                        .title(function (d) { return ''; });
                    pieChartPCU.ordering(function (d) {
                        if (d.key === 'U1') return 0;
");
                WriteLiteral(@"                        else if (d.key === 'U2') return 1;
                        else if (d.key === 'U3') return 2;
                        else if (d.key === 'FC') return 3;
                        else if (d.key === 'ND') return 4;
                    });

                    setStyleR();
                    dc.renderAll('registro');
                    AddXAxis(rowChartsegmento_uma, unidadesChart);
                });
            });

            function setStyleR() {
                var f = d3.format(',.0f');
                var pieTip = d3.tip()
                    .attr('class', 'd3-tip')
                    .offset([-10, 0])
                    .html(function (d) { return ""<span class='label-tip'>"" + d.data.key + ""</span><br/>"" + f(d.value) + ("" "" + unidadesChart) + ' (' + dc.utils.printSingleValue((d.endAngle - d.startAngle) / (2 * Math.PI) * 100) + '%)'; });
                var rowTip = d3.tip()
                    .attr('class', 'd3-tip')
                    .offset([-10, 0])");
                WriteLiteral(@"
                    .html(function (d) { return ""<span class='label-tip'>"" + d.key + ""</span><br/>"" + f(d.value) + ("" "" + unidadesChart); });
                var barTip = d3.tip()
                    .attr('class', 'd3-tip')
                    .offset([-10, 0])
                    .html(function (d) { return ""<span class='label-tip'>"" + d.x + ""</span><br/>"" + f(d.y) + ("" "" + unidadesChart); });

                barChartsegmento.on('pretransition', function (chart) {
                    chart.selectAll(""rect.bar"").call(barTip).on('mouseover.tip', barTip.show).on('mouseout.tip', barTip.hide);
                });
                pieCharttipo_vivienda.on('pretransition', function (chart) {
                    chart.selectAll("".pie-slice"").call(pieTip).on('mouseover.tip', pieTip.show).on('mouseout.tip', pieTip.hide);
                    chart.selectAll('text.pie-slice').text(function (d) {
                        return dc.utils.printSingleValue((d.endAngle - d.startAngle) / (2 * Math.PI) * 100) + '%");
                WriteLiteral(@"';
                    });
                });
                rowChartsegmento_uma.on('pretransition', function (chart) {
                    chart.selectAll(""g.row"").call(rowTip).on('mouseover.tip', rowTip.show).on('mouseout.tip', rowTip.hide);
                });
                pieChartPCU.on('pretransition', function (chart) {
                    chart.selectAll("".pie-slice"").call(pieTip).on('mouseover.tip', pieTip.show).on('mouseout.tip', pieTip.hide);
                    chart.selectAll('text.pie-slice').text(function (d) {
                        return dc.utils.printSingleValue((d.endAngle - d.startAngle) / (2 * Math.PI) * 100) + '%';
                    });
                });

                barChartsegmento.ordinalColors(baseColor);
                pieCharttipo_vivienda.ordinalColors(baseColor);
                rowChartsegmento_uma.ordinalColors(baseColor);
                pieChartPCU.ordinalColors(baseColor);
            }
        }

        //#endregion

        //#region ");
                WriteLiteral(@"Inventario

        async function mostrarMes() {
            anio = $('#ddl_inicio_inventario').val();
            var data = await $.getJSON(path + 'CatalogoAPI/GetMesInventario/' + anio, function (json) {
                $('#ddl_fin_inventario').empty();
                $.each(json, function (key, obj) {
                    $('#ddl_fin_inventario').append($('<option></option>').attr('value', obj.id).text(obj.descripcion));
                });
            });
            return data[0].id;
        }

        function initializeDashBoardI(anio_v,mes_v) {
            anio_inicio = (anio_v != undefined) ? anio_v : $('[id$=ddl_inicio_inventario]').val();
            mes = (mes_v != undefined) ? mes_v : $('[id$=ddl_fin_inventario]').val();

            mapEstado = dc.geoChoroplethChart('#mapEstadoInv', 'inventario');
            numberDisplayTotal = dc.numberDisplay('#numberDisplayTotalInv', 'inventario');
            barChartsegmento = dc.barChart('#barChartsegmentoInv', 'inventario');
     ");
                WriteLiteral(@"       pieCharttipo_vivienda = dc.pieChart('#pieCharttipo_viviendaInv', 'inventario');
            rowChartsegmento_uma = dc.rowChart('#rowChartsegmento_umaInv', 'inventario');
            rowChartavance = dc.rowChart('#rowChartavance', 'inventario');

            d3.json(path + 'DashboardAPI/GetKPIsInventario2/' + anio_inicio + '/' + mes, function (error, counts) {
                var ndx = crossfilter(counts),
                    estado = ndx.dimension(function (d) { return d.estado; }),
                    groupEstado = estado.group().reduceSum(function (d) { return + d.viviendas; }),
                    total = ndx.groupAll().reduceSum(function (d) { return + d.viviendas; }),
                    avance = ndx.dimension(function (d) { return d.avance_obra; }),
                    groupAvance = avance.group().reduceSum(function (d) { return + d.viviendas; })
                segmento = ndx.dimension(function (d) { return d.segmento; }),
                    groupSegmento = segmento.group().reduceSu");
                WriteLiteral(@"m(function (d) { return + d.viviendas; }),
                    tipo_vivienda = ndx.dimension(function (d) { return d.tipo_vivienda; }),
                    groupTipoVivienda = tipo_vivienda.group().reduceSum(function (d) { return + d.viviendas; }),
                    segmento_uma = ndx.dimension(function (d) { return d.segmento_uma; }),
                    groupSegmentoUMA = segmento_uma.group().reduceSum(function (d) { return + d.viviendas; });

                d3.json('../js/maps/mx.json', function (jsonData) {
                    var projection = d3.geo.mercator()
                        .center(center_map)
                        .translate([width_map / 1.7, height_map / 1.7])
                        .scale([width_map / .6]);
                    var colorSchemeSelect = color_map;
                    var colorScheme = colorbrewer[colorSchemeSelect];
                    var quantiles = quantiles_map;
                    var estados = groupEstado.all();
                    var min = Math.min.");
                WriteLiteral(@"apply(null, estados.map(x => x.value));
                    var max = Math.max.apply(null, estados.map(x => x.value));

                    mapEstado
                        .width(width_map)
                        .height(height_map)
                        .dimension(estado)
                        .group(groupEstado)
                        .projection(projection)
                        .overlayGeoJson(jsonData.features, 'name', function (d) {
                            return d.properties.name;
                        })
                        .colors(d3.scale.quantile().range(colorScheme[quantiles]))
                        .colorDomain([min, max])
                        .colorCalculator(function (d) {
                            return d ? mapEstado.colors()(d) : '#ccc';
                        })
                        .title(function (d) {
                            return d.key + "": "" + d3.format(',.0f')(d.value) + ("" "" + unidadesChart);
                        });

      ");
                WriteLiteral(@"              numberDisplayTotal
                        .group(total)
                        .formatNumber(d3.format(',.0f'))
                        .valueAccessor(function (d) { return d; });

                    function calc_domain(chart) {
                        var min = d3.min(chart.group().all(), function (kv) { return kv.key; }),
                            max = d3.max(chart.group().all(), function (kv) { return kv.key; });
                        max = d3.time.month.offset(max, 1);
                        chart.x().domain([min, max]);
                    }

                    barChartsegmento
                        .yAxisLabel("" "" + unidadesChart)
                        .height(250)
                        .dimension(segmento)
                        .group(groupSegmento)
                        .x(d3.scale.ordinal())
                        .xUnits(dc.units.ordinal)
                        .elasticY(true)
                        .renderHorizontalGridLines(true)
         ");
                WriteLiteral(@"               .barPadding(0.1)
                        .margins({ top: 20, left: 50, right: 0, bottom: 80 })
                        .brushOn(false)
                        .clipPadding(20)
                        .title(function (d) { return ''; })
                        .renderLabel(true)
                        .label(function (d) {
                            return d3.format(',.0f')(d.y);
                        });
                    barChartsegmento.yAxis().tickFormat(d3.format('s'));

                    pieCharttipo_vivienda
                        .height(200)
                        .dimension(tipo_vivienda)
                        .group(groupTipoVivienda)
                        .innerRadius(50)
                        .legend(dc.legend().y(5))
                        .title(function (d) { return ''; });

                    rowChartsegmento_uma
                        .dimension(segmento_uma)
                        .group(groupSegmentoUMA)
                        .elast");
                WriteLiteral(@"icX(true)
                        .margins({ top: 5, left: 5, right: 10, bottom: 40 })
                        .ordering(function (d) { return d.key; })
                        /*.label(function (d) {
                            return d.key + "": "" + d3.format(',.0f')(d.value);
                        })*/
                        .title(function (d) { return ''; });
                    rowChartsegmento_uma.xAxis().tickFormat(d3.format('s'));

                    rowChartavance
                        .dimension(avance)
                        .group(groupAvance)
                        .elasticX(true)
                        .margins({ top: 5, left: 5, right: 10, bottom: 40 })
                        .ordering(function (d) { return d.key; })
                        /*.label(function (d) {
                            return d.key + "": "" + d3.format(',.0f')(d.value);
                        })*/
                        .title(function (d) { return ''; });
                    rowChartavance.xA");
                WriteLiteral(@"xis().tickFormat(d3.format('s'));

                    setStyleI();
                    dc.renderAll('inventario');
                    AddXAxis(rowChartavance, unidadesChart);
                    AddXAxis(rowChartsegmento_uma, unidadesChart);
                });
            });

            function setStyleI() {
                var f = d3.format(',.0f');
                var pieTip = d3.tip()
                    .attr('class', 'd3-tip')
                    .offset([-10, 0])
                    .html(function (d) { return ""<span class='label-tip'>"" + d.data.key + ""</span><br/>"" + f(d.value) + ("" "" + unidadesChart) + ' (' + dc.utils.printSingleValue((d.endAngle - d.startAngle) / (2 * Math.PI) * 100) + '%)'; });
                var rowTip = d3.tip()
                    .attr('class', 'd3-tip')
                    .offset([-10, 0])
                    .html(function (d) { return ""<span class='label-tip'>"" + d.key + ""</span><br/>"" + f(d.value) + ("" "" + unidadesChart); });
                var ba");
                WriteLiteral(@"rTip = d3.tip()
                    .attr('class', 'd3-tip')
                    .offset([-10, 0])
                    .html(function (d) { return ""<span class='label-tip'>"" + d.x + ""</span><br/>"" + f(d.y) + ("" "" + unidadesChart); });

                barChartsegmento.on('pretransition', function (chart) {
                    chart.selectAll(""rect.bar"").call(barTip).on('mouseover.tip', barTip.show).on('mouseout.tip', barTip.hide);
                });
                pieCharttipo_vivienda.on('pretransition', function (chart) {
                    chart.selectAll("".pie-slice"").call(pieTip).on('mouseover.tip', pieTip.show).on('mouseout.tip', pieTip.hide);
                    chart.selectAll('text.pie-slice').text(function (d) {
                        return dc.utils.printSingleValue((d.endAngle - d.startAngle) / (2 * Math.PI) * 100) + '%';
                    });
                });
                rowChartsegmento_uma.on('pretransition', function (chart) {
                    chart.selectAll(""g.");
                WriteLiteral(@"row"").call(rowTip).on('mouseover.tip', rowTip.show).on('mouseout.tip', rowTip.hide);
                });
                rowChartavance.on('pretransition', function (chart) {
                    chart.selectAll(""g.row"").call(rowTip).on('mouseover.tip', rowTip.show).on('mouseout.tip', rowTip.hide);
                });

                barChartsegmento.ordinalColors(baseColor);
                pieCharttipo_vivienda.ordinalColors(baseColor);
                rowChartsegmento_uma.ordinalColors(baseColor);
                rowChartavance.ordinalColors(baseColor);
            }
        }

        //#endregion
    </script>
");
            }
            );
            WriteLiteral(@"
<br />
<div id=""tabs"">
    <!-- Nav tabs -->
    <ul class=""nav nav-tabs"" role=""tablist"">
        <li id=""tabI"" role=""presentation"" class=""tab-active""><a href=""#lnk_i"" aria-controls=""lnk_i"" role=""tab"" data-toggle=""tab"">Inventario de Vivienda</a></li>
        <li id=""tabR"" role=""presentation""><a href=""#lnk_r"" aria-controls=""lnk_r"" role=""tab"" data-toggle=""tab"">Registro de Vivienda</a></li>
    </ul>
    <!-- Tab panes -->
    <div class=""tab-content"">
        <div role=""tabpanel"" class=""tab-pane"" id=""lnk_r"">

            <div class=""page-header"">
                <h2>
                    Registro de Vivienda<small> ");
#nullable restore
#line 447 "D:\Resplado sedatu\Azure5\sniiv\Views\Dashboard\Oferta.cshtml"
                                           Write(fechaRegistro);

#line default
#line hidden
#nullable disable
            WriteLiteral(@"</small>
                    <a href=""javascript:dc.filterAll('registro'); dc.renderAll('registro');"" title=""Recargar"" data-toggle=""tooltip"" data-placement=""bottom""><span class=""icon s7-refresh-2""></span></a>
                    <a href=""/Cubo/Registro"" title=""Editar consulta""><span class=""icon s7-edit"" data-toggle=""tooltip"" data-placement=""bottom"" title=""Editar consulta""></span></a>
                </h2>
            </div>

            <div id=""div-form-registro"" class=""form-inline"">
                <div class=""form-group"">
                    <label>Año:</label>
                    ");
#nullable restore
#line 456 "D:\Resplado sedatu\Azure5\sniiv\Views\Dashboard\Oferta.cshtml"
               Write(Html.DropDownList("ddl_inicio", aniosRegistro, new { @class = "form-control" }));

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n                </div>\r\n                <div class=\"form-group\">\r\n                    <label>a</label>\r\n                    ");
#nullable restore
#line 460 "D:\Resplado sedatu\Azure5\sniiv\Views\Dashboard\Oferta.cshtml"
               Write(Html.DropDownList("ddl_fin", aniosRegistro, new { @class = "form-control" }));

#line default
#line hidden
#nullable disable
            WriteLiteral(@"
                </div>
                <div class=""form-group"">
                    <button type=""button"" id=""btn_aceptar"" class=""btn btn-default"">Aceptar</button>
                </div>
            </div>

            <div class=""row"">
                <div class=""col-md-8"">
                    <h3>Estado</h3>
                    <div id=""mapEstado"" class=""geoChoroplethChart"" style=""overflow-x: auto""></div>
                </div>
                <div class=""col-md-4 dv"">
                    <h3>Total (viviendas)</h3>
                    <div id=""numberDisplayTotal"" class=""number-acciones""></div>
                </div>
                <div class=""col-md-4"">
                    <h3>PCU</h3>
                    <div id=""pieChartPCU"" class=""chart""></div>
                </div>
            </div>

            <div class=""row"">
                <div class=""col-md-4"">
                    <h3>Segmento</h3>
                    <div id=""barChartsegmento"" class=""chart""></div>
                </");
            WriteLiteral(@"div>

                <div class=""col-md-4"">
                    <h3>Tipo de Vivienda</h3>
                    <div id=""pieCharttipo_vivienda"" class=""chart""></div>
                </div>
                <div class=""col-md-4"">
                    <h3>Segmento UMA</h3>
                    <div id=""rowChartsegmento_uma"" class=""chart""></div>
                </div>
            </div>

        </div>

        <div role=""tabpanel"" class=""tab-pane active"" id=""lnk_i"">

            <div class=""page-header"">
                <h2>
                    Inventario de Vivienda<small> ");
#nullable restore
#line 504 "D:\Resplado sedatu\Azure5\sniiv\Views\Dashboard\Oferta.cshtml"
                                             Write(fechaInventario);

#line default
#line hidden
#nullable disable
            WriteLiteral(@"</small>
                    <a href=""javascript:dc.filterAll('inventario'); dc.renderAll('inventario');"" title=""Recargar"" data-toggle=""tooltip"" data-placement=""bottom""><span class=""icon s7-refresh-2""></span></a>
                    <a href=""/Cubo/Inventario"" title=""Editar consulta""><span class=""icon s7-edit"" data-toggle=""tooltip"" data-placement=""bottom"" title=""Editar consulta""></span></a>
                </h2>
            </div>

            <div id=""div-form-inventario"" class=""form-inline"">
                <div class=""form-group"">
                    <label>Año:</label>
                    ");
#nullable restore
#line 513 "D:\Resplado sedatu\Azure5\sniiv\Views\Dashboard\Oferta.cshtml"
               Write(Html.DropDownList("ddl_inicio_inventario", aniosInventario, new { @class = "form-control" }));

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n                </div>\r\n                <div class=\"form-group\">\r\n                    <label>a</label>\r\n                    ");
#nullable restore
#line 517 "D:\Resplado sedatu\Azure5\sniiv\Views\Dashboard\Oferta.cshtml"
               Write(Html.DropDownList("ddl_fin_inventario", mesesInventario, new { @class = "form-control" }));

#line default
#line hidden
#nullable disable
            WriteLiteral(@"
                </div>
            </div>

            <div class=""row"">
                <div class=""col-md-8"">
                    <h3>Estado</h3>
                    <div id=""mapEstadoInv"" class=""geoChoroplethChart"" style=""overflow-x: auto""></div>
                </div>
                <div class=""col-md-4 dv"">
                    <h3>Total (viviendas)</h3>
                    <div id=""numberDisplayTotalInv"" class=""number-acciones""></div>
                </div>
                <div class=""col-md-4"">
                    <h3>Segmento</h3>
                    <div id=""barChartsegmentoInv"" class=""chart""></div>
                </div>
            </div>

            <div class=""row"">
                <div class=""col-md-4"">
                    <h3>Avance de Obra</h3>
                    <div id=""rowChartavance"" class=""chart""></div>
                </div>
                <div class=""col-md-4"">
                    <h3>Tipo de Vivienda</h3>
                    <div id=""pieCharttipo_viviendaI");
            WriteLiteral(@"nv"" class=""chart""></div>
                </div>
                <div class=""col-md-4"">
                    <h3>Segmento UMA</h3>
                    <div id=""rowChartsegmento_umaInv"" class=""chart""></div>
                </div>
            </div>

        </div>
    </div>
</div>");
        }
        #pragma warning restore 1998
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.IModelExpressionProvider ModelExpressionProvider { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IUrlHelper Url { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IViewComponentHelper Component { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IJsonHelper Json { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper<dynamic> Html { get; private set; }
    }
}
#pragma warning restore 1591
